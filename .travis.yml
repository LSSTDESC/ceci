language: python

python:
  - "3.6"
  - "3.7"
  - "3.8"

install:
  - python setup.py install

# Test three different pipelines
script:
  - export PYTHONPATH=$PYTHONPATH:$PWD
  - ceci test/test.yml
  - ceci --dry-run test/test.yml
  - ceci test/test.yml launcher.name=parsl launcher.max_threads=3
  - ceci test/test.yml launcher.name=cwl launcher.dir=test/cwl launcher.launch=cwltool
  - pytest
